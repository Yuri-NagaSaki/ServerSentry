/**
 * 自定义背景样式
 * 使用CSS变量实现高度可定制性
 * 采用GPU加速提高性能
 */

:root {
  /* 亮色主题背景变量 */
  --bg-gradient-1-light: oklch(0.98 0.012 200);
  --bg-gradient-2-light: oklch(0.99 0.018 45);
  --bg-grid-color-light: oklch(0 0 0 / 0.05);
  --bg-spot-1-light: oklch(0.8 0.1 200);
  --bg-spot-2-light: oklch(0.85 0.08 50);
  
  /* 暗色主题背景变量 */
  --bg-gradient-1-dark: oklch(0.25 0.05 240);
  --bg-gradient-2-dark: oklch(0.22 0.04 300);
  --bg-grid-color-dark: oklch(1 0 0 / 0.1);
  --bg-spot-1-dark: oklch(0.3 0.12 270);
  --bg-spot-2-dark: oklch(0.3 0.08 320);
  
  /* 透明度控制 */
  --bg-grid-opacity: 0.2;
  --bg-spot-opacity: 0.4;
  --bg-blur-amount: 100px;
}

/* 主渐变背景 - 使用GPU加速 */
.gradient-background {
  @apply absolute inset-0 h-full w-full;
  background-image: 
    radial-gradient(
      circle at 15% 50%,
      var(--bg-gradient-1-light) 0%,
      transparent 25%
    ),
    radial-gradient(
      circle at 85% 30%,
      var(--bg-gradient-2-light) 0%,
      transparent 25%
    );
  transform: translateZ(0); /* 启用GPU加速 */
  will-change: opacity; /* 优化性能 */
  transition: background-image 0.5s ease-in-out;
}

.dark .gradient-background {
  background-image: 
    radial-gradient(
      circle at 15% 50%,
      var(--bg-gradient-1-dark) 0%,
      transparent 25%
    ),
    radial-gradient(
      circle at 85% 30%,
      var(--bg-gradient-2-dark) 0%,
      transparent 25%
    );
}

/* 网格纹理覆盖 */
.grid-overlay {
  @apply absolute inset-0 h-full w-full;
  opacity: var(--bg-grid-opacity);
  background-image: 
    linear-gradient(to right, var(--bg-grid-color-light) 1px, transparent 1px),
    linear-gradient(to bottom, var(--bg-grid-color-light) 1px, transparent 1px);
  background-size: 24px 24px;
  transform: translateZ(0); /* 启用GPU加速 */
  will-change: opacity; /* 优化性能 */
}

.dark .grid-overlay {
  --bg-grid-opacity: 0.1;
  background-image: 
    linear-gradient(to right, var(--bg-grid-color-dark) 1px, transparent 1px),
    linear-gradient(to bottom, var(--bg-grid-color-dark) 1px, transparent 1px);
}

/* 模糊渐变光点 */
.blur-gradient-spot {
  @apply absolute rounded-full;
  opacity: var(--bg-spot-opacity);
  filter: blur(var(--bg-blur-amount));
  pointer-events: none;
  transform: translateZ(0); /* 启用GPU加速 */
  will-change: transform, opacity; /* 优化性能 */
}

.top-left {
  @apply left-[-5%] top-[-5%] h-[40%] w-[40%];
  background: radial-gradient(circle, var(--bg-spot-1-light) 0%, transparent 70%);
  animation: float 20s ease-in-out infinite;
}

.bottom-right {
  @apply bottom-[-5%] right-[-5%] h-[40%] w-[40%];
  background: radial-gradient(circle, var(--bg-spot-2-light) 0%, transparent 70%);
  animation: float 25s ease-in-out infinite reverse;
}

.dark-top-right {
  @apply right-[-5%] top-[-5%] h-[40%] w-[40%];
  background: radial-gradient(circle, var(--bg-spot-1-dark) 0%, transparent 70%);
  animation: float 20s ease-in-out infinite;
}

.dark-bottom-left {
  @apply bottom-[-5%] left-[-5%] h-[40%] w-[40%];
  background: radial-gradient(circle, var(--bg-spot-2-dark) 0%, transparent 70%);
  animation: float 25s ease-in-out infinite reverse;
}

/* 轻微浮动动画 - 性能优化版本 */
@keyframes float {
  0%, 100% {
    transform: translateY(0) translateX(0) translateZ(0);
  }
  33% {
    transform: translateY(-10px) translateX(10px) translateZ(0);
  }
  66% {
    transform: translateY(5px) translateX(-5px) translateZ(0);
  }
}

/* 隐藏/显示基于主题的元素 */
.light-mode-only {
  @apply block;
}

.dark-mode-only {
  @apply hidden;
}

.dark .light-mode-only {
  @apply hidden;
}

.dark .dark-mode-only {
  @apply block;
}

/* 确保内容层被正确分层 - 增强性能 */
body > :not(.fixed) {
  isolation: isolate;
  position: relative;
  z-index: 1;
} 