/**
 * 自定义背景样式
 * 使用CSS变量实现高度可定制性
 * 采用性能优化方案
 */

:root {
  /* 亮色主题背景变量 */
  --bg-gradient-1-light: oklch(0.98 0.012 200);
  --bg-gradient-2-light: oklch(0.99 0.018 45);
  --bg-grid-color-light: oklch(0 0 0 / 0.05);
  --bg-spot-1-light: oklch(0.8 0.1 200);
  --bg-spot-2-light: oklch(0.85 0.08 50);
  
  /* 暗色主题背景变量 */
  --bg-gradient-1-dark: oklch(0.25 0.05 240);
  --bg-gradient-2-dark: oklch(0.22 0.04 300);
  --bg-grid-color-dark: oklch(1 0 0 / 0.1);
  --bg-spot-1-dark: oklch(0.3 0.12 270);
  --bg-spot-2-dark: oklch(0.3 0.08 320);
  
  /* 透明度控制 */
  --bg-grid-opacity: 0.2;
  --bg-spot-opacity: 0.4;
  --bg-blur-amount: 100px;
}

/* 主渐变背景 */
.gradient-background {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-image: 
    radial-gradient(
      circle at 15% 50%,
      var(--bg-gradient-1-light) 0%,
      transparent 25%
    ),
    radial-gradient(
      circle at 85% 30%,
      var(--bg-gradient-2-light) 0%,
      transparent 25%
    );
  transition: background-image 0.5s ease-in-out;
}

.dark .gradient-background {
  background-image: 
    radial-gradient(
      circle at 15% 50%,
      var(--bg-gradient-1-dark) 0%,
      transparent 25%
    ),
    radial-gradient(
      circle at 85% 30%,
      var(--bg-gradient-2-dark) 0%,
      transparent 25%
    );
}

/* 网格纹理覆盖 */
.grid-overlay {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 100%;
  opacity: var(--bg-grid-opacity);
  background-image: 
    linear-gradient(to right, var(--bg-grid-color-light) 1px, transparent 1px),
    linear-gradient(to bottom, var(--bg-grid-color-light) 1px, transparent 1px);
  background-size: 24px 24px;
}

.dark .grid-overlay {
  --bg-grid-opacity: 0.1;
  background-image: 
    linear-gradient(to right, var(--bg-grid-color-dark) 1px, transparent 1px),
    linear-gradient(to bottom, var(--bg-grid-color-dark) 1px, transparent 1px);
}

/* 模糊渐变光点 */
.blur-gradient-spot {
  position: absolute;
  border-radius: 9999px;
  opacity: var(--bg-spot-opacity);
  filter: blur(var(--bg-blur-amount));
  pointer-events: none;
}

.top-left {
  left: -5%;
  top: -5%;
  width: 40%;
  height: 40%;
  background: radial-gradient(circle, var(--bg-spot-1-light) 0%, transparent 70%);
  animation: float 30s ease-in-out infinite;
}

.bottom-right {
  bottom: -5%;
  right: -5%;
  width: 40%;
  height: 40%;
  background: radial-gradient(circle, var(--bg-spot-2-light) 0%, transparent 70%);
  animation: float 35s ease-in-out infinite reverse;
}

.dark-top-right {
  right: -5%;
  top: -5%;
  width: 40%;
  height: 40%;
  background: radial-gradient(circle, var(--bg-spot-1-dark) 0%, transparent 70%);
  animation: float 30s ease-in-out infinite;
}

.dark-bottom-left {
  bottom: -5%;
  left: -5%;
  width: 40%;
  height: 40%;
  background: radial-gradient(circle, var(--bg-spot-2-dark) 0%, transparent 70%);
  animation: float 35s ease-in-out infinite reverse;
}

/* 轻微浮动动画 - 降低动画频率版本 */
@keyframes float {
  0%, 100% {
    transform: translate(0, 0);
  }
  33% {
    transform: translate(8px, -8px);
  }
  66% {
    transform: translate(-4px, 4px);
  }
}

/* 隐藏/显示基于主题的元素 */
.light-mode-only {
  display: block;
}

.dark-mode-only {
  display: none;
}

.dark .light-mode-only {
  display: none;
}

.dark .dark-mode-only {
  display: block;
}

/* 确保内容层被正确分层 */
body > :not(.fixed) {
  isolation: isolate;
  position: relative;
  z-index: 1;
} 